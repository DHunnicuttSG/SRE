# Types of Keys

## ğŸ§© What Is a Key?

In a **relational database**, a **key** is a column (or combination of columns) that helps to:

* **Uniquely identify** a record (row) in a table, or
* **Establish relationships** between tables

In short: **Keys maintain data integrity and relationships**.

---

## ğŸ”‘ Types of Keys (Overview)

| Key Type          | Purpose                                                               | Uniqueness | Nullable | Example                     |
| ----------------- | --------------------------------------------------------------------- | ---------- | -------- | --------------------------- |
| **Primary Key**   | Uniquely identifies each row                                          | âœ…          | âŒ        | `customer_id`               |
| **Candidate Key** | Possible choice for primary key                                       | âœ…          | âŒ        | `email`, `ssn`              |
| **Alternate Key** | Candidate key *not chosen* as PK                                      | âœ…          | âŒ        | `email`                     |
| **Foreign Key**   | Links to primary key in another table                                 | âŒ          | âœ…        | `customer_id` in `orders`   |
| **Composite Key** | Combination of multiple columns to form a unique key                  | âœ…          | âŒ        | (`student_id`, `course_id`) |
| **Surrogate Key** | Artificial key (system-generated)                                     | âœ…          | âŒ        | `AUTO_INCREMENT id`         |
| **Natural Key**   | Real-world unique identifier                                          | âœ…          | âŒ        | `email`, `SSN`              |
| **Super Key**     | Any set of columns that uniquely identifies rows (may include extras) | âœ…          | âŒ        | (`customer_id`, `email`)    |

---

## ğŸ§± 1. Primary Key (PK)

### ğŸ”¹ Definition:

A **primary key** uniquely identifies each record in a table.
It ensures that:

* No two rows have the same key value
* The key column(s) canâ€™t be `NULL`

### ğŸ§± Example:

```sql
CREATE TABLE customers (
  customer_id INT PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100)
);
```

| customer_id | name  | email                                         |
| ----------- | ----- | --------------------------------------------- |
| 1           | Alice | [alice@example.com](mailto:alice@example.com) |
| 2           | Bob   | [bob@example.com](mailto:bob@example.com)     |

â¡ï¸ `customer_id` uniquely identifies each record.

---

## ğŸ§© 2. Candidate Key

### ğŸ”¹ Definition:

A **candidate key** is any column (or set of columns) that can **uniquely identify** each record.
A table can have **multiple candidate keys**, but only **one** becomes the **primary key**.

### ğŸ§± Example:

In the `customers` table:

* `customer_id`
* `email`

Both are **candidate keys** because both are unique per customer.

If we choose `customer_id` as the primary key,
then `email` becomes an **alternate key**.

---

## ğŸ§© 3. Alternate Key

### ğŸ”¹ Definition:

An **alternate key** is a **candidate key** that was **not chosen** as the primary key.

### ğŸ§± Example:

```sql
CREATE TABLE customers (
  customer_id INT PRIMARY KEY,
  email VARCHAR(100) UNIQUE
);
```

Here:

* `customer_id` â†’ **Primary key**
* `email` â†’ **Alternate key**

---

## ğŸ§© 4. Foreign Key (FK)

### ğŸ”¹ Definition:

A **foreign key** is a column in one table that refers to a **primary key** in another table.
It enforces **referential integrity** â€” meaning you canâ€™t insert data that references a non-existent record.

### ğŸ§± Example:

```sql
CREATE TABLE orders (
  order_id INT PRIMARY KEY,
  customer_id INT,
  FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
```

This ensures:

* Every `customer_id` in `orders` **must exist** in `customers`.

ğŸ§  **If you delete a customer**, you can control what happens to their orders:

```sql
FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
ON DELETE CASCADE;
```

---

## ğŸ§© 5. Composite Key

### ğŸ”¹ Definition:

A **composite key** is made up of **two or more columns** that together uniquely identify a row.

No single column alone is unique, but the **combination** is.

### ğŸ§± Example:

In a `student_courses` table (many-to-many relationship):

```sql
CREATE TABLE student_courses (
  student_id INT,
  course_id INT,
  PRIMARY KEY (student_id, course_id)
);
```

| student_id | course_id |
| ---------- | --------- |
| 1          | 101       |
| 1          | 102       |
| 2          | 101       |

â¡ï¸ The pair `(student_id, course_id)` uniquely identifies each record.

---

## ğŸ§© 6. Surrogate Key

### ğŸ”¹ Definition:

A **surrogate key** is a **system-generated** key used as a unique identifier,
instead of using a **natural (real-world)** attribute.

Commonly an **auto-incremented ID** or **UUID**.

### ğŸ§± Example:

```sql
CREATE TABLE products (
  product_id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100),
  sku VARCHAR(50)
);
```

* `product_id` â†’ surrogate key
* `sku` â†’ real-world identifier (but might change)

ğŸ§  Benefits:

* Keeps relationships simple
* Independent from business logic
* Ideal when natural keys can change (e.g., usernames, emails)

---

## ğŸ§© 7. Natural Key

### ğŸ”¹ Definition:

A **natural key** is based on **real-world, meaningful data** that uniquely identifies a record.

### ğŸ§± Example:

```sql
CREATE TABLE employees (
  ssn CHAR(9) PRIMARY KEY,
  name VARCHAR(100),
  hire_date DATE
);
```

* `ssn` (Social Security Number) is a **natural key** â€” it exists in the real world and is inherently unique.

ğŸ§  **However:** Natural keys can cause problems if they change (e.g., email updates, ID corrections).
Thatâ€™s why many designs prefer **surrogate keys** instead.

---

## ğŸ§© 8. Super Key

### ğŸ”¹ Definition:

A **super key** is any set of columns that can **uniquely identify a row** â€” even if it contains **extra columns**.

All **candidate keys** are **super keys**,
but not all **super keys** are minimal.

### ğŸ§± Example:

For the `customers` table:

| Columns               | Is Unique? | Type                    |
| --------------------- | ---------- | ----------------------- |
| `customer_id`         | âœ…          | Candidate key           |
| `email`               | âœ…          | Candidate key           |
| `customer_id + email` | âœ…          | Super key (non-minimal) |

ğŸ§  The **minimal** super keys are called **candidate keys**.

---

## ğŸ§  Summary Table of Key Types

| Key Type          | Purpose                                     | Unique | Nullable | Example                     |
| ----------------- | ------------------------------------------- | ------ | -------- | --------------------------- |
| **Primary Key**   | Uniquely identifies each record             | âœ…      | âŒ        | `id`                        |
| **Candidate Key** | Potential unique identifier                 | âœ…      | âŒ        | `email`, `username`         |
| **Alternate Key** | Candidate key not chosen as PK              | âœ…      | âŒ        | `email`                     |
| **Foreign Key**   | Enforces relationship between tables        | âŒ      | âœ…        | `customer_id` in `orders`   |
| **Composite Key** | Combines columns for uniqueness             | âœ…      | âŒ        | (`student_id`, `course_id`) |
| **Surrogate Key** | Artificial unique key                       | âœ…      | âŒ        | Auto-increment ID           |
| **Natural Key**   | Real-world identifier                       | âœ…      | âŒ        | `SSN`, `email`              |
| **Super Key**     | Any set of columns that uniquely identifies | âœ…      | âŒ        | (`id`, `email`)             |

---

## ğŸ§¾ Example: Combining Key Types

```sql
CREATE TABLE customers (
  customer_id INT AUTO_INCREMENT PRIMARY KEY,  -- Surrogate key
  email VARCHAR(100) UNIQUE,                   -- Alternate key
  ssn CHAR(9),                                 -- Natural key
  name VARCHAR(100)
);

CREATE TABLE orders (
  order_id INT AUTO_INCREMENT PRIMARY KEY,
  customer_id INT,
  order_date DATE,
  FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
```

â¡ï¸ This design uses:

* **Surrogate key:** `customer_id`
* **Alternate key:** `email`
* **Natural key:** `ssn`
* **Foreign key:** `customer_id` in `orders`

---
