# **Using the `grep` Command in Linux**

## **1. Learning Objectives**

By the end of this lesson, students will be able to:

* Understand what the `grep` command does and why it is useful.
* Use `grep` to search for patterns in files and command outputs.
* Apply options such as `-i`, `-v`, `-n`, and `-r` for advanced searching.
* Combine `grep` with pipes to filter command results.
* Use regular expressions with `grep` for pattern matching.

---

## **2. Introduction to `grep`**

* `grep` stands for **Global Regular Expression Print**.
* It searches through text (files or input) for patterns you specify and prints the matching lines.
* Syntax:

  ```bash
  grep [options] pattern [file...]
  ```

---

## **3. Basic Usage**

### **Example 1: Search for a word in a file**

```bash
grep "error" logfile.txt
```

* Prints all lines in `logfile.txt` that contain the word *error*.

### **Example 2: Case-insensitive search**

```bash
grep -i "error" logfile.txt
```

* Matches *Error*, *ERROR*, *eRrOr*, etc.

---

## **4. Useful Options**

| Option         | Description                            | Example                                |
| -------------- | -------------------------------------- | -------------------------------------- |
| `-i`           | Case-insensitive search                | `grep -i "hello" file.txt`             |
| `-n`           | Show line numbers                      | `grep -n "main" program.c`             |
| `-v`           | Invert match (show non-matching lines) | `grep -v "test" file.txt`              |
| `-c`           | Count matching lines                   | `grep -c "error" logfile.txt`          |
| `-r` or `-R`   | Recursive search through directories   | `grep -r "TODO" src/`                  |
| `-l`           | List only filenames with matches       | `grep -l "config" *.conf`              |
| `--color=auto` | Highlight matches                      | `grep --color=auto "root" /etc/passwd` |

---

## **5. Using `grep` with Pipes**

`grep` is often used to filter command outputs.

### **Examples:**

```bash
ps aux | grep "python"
```

* Shows running processes containing *python*.

```bash
dmesg | grep -i "usb"
```

* Displays only lines about USB devices from kernel messages.

---

## **6. Using Regular Expressions**

* `grep` supports basic and extended regular expressions.
* Examples:

```bash
grep "^root" /etc/passwd
```

* Finds lines starting with "root".

```bash
grep "[0-9]\{3\}" file.txt
```

* Matches any line with a 3-digit number.

```bash
grep -E "error|warning" logfile.txt
```

* Matches lines containing either *error* or *warning*.

---

## **7. Practical Exercises**

1. **Basic Search:** Find all lines in `/var/log/syslog` that contain the word *failed*.
2. **Case-Insensitive:** Search for *network* in `/etc/services` ignoring case.
3. **Count Matches:** Count how many lines in `/etc/passwd` contain `/bin/bash`.
4. **Invert Match:** Show all lines in `/etc/passwd` that do **not** contain `/bin/bash`.
5. **Recursive Search:** Search the `/etc` directory for the word *ssh*.
6. **Regex Search:** Find all words in a text file that end with `.conf`.

---

## **8. Summary**

* `grep` is a powerful tool for text searching in Linux.
* It works with plain text, logs, configuration files, and command outputs.
* Options and regular expressions make it extremely flexible.
* Combined with pipes, it becomes one of the most useful commands in system administration, troubleshooting, and development.

---

* use --exclude-dir={.git,node_modules} in your command to NOT search these folders
