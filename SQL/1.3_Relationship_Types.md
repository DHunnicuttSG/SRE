# Relationship Types

ğŸ‘‰ **One-to-One (1:1)**
ğŸ‘‰ **One-to-Many (1:N)**
ğŸ‘‰ **Many-to-Many (M:N)**

These relationships describe **how tables are linked** using **primary keys (PK)** and **foreign keys (FK)** â€” the core of relational database design.

---

## ğŸ§© 1. One-to-One (1:1) Relationship

### ğŸ”¹ Definition:

A **one-to-one relationship** means that **each record in Table A relates to exactly one record in Table B**, and vice versa.

âœ… Each row in the first table **matches at most one** row in the second table.

---

### ğŸ§  Example: `users` and `user_profiles`

| users    |    | user_profiles |
| -------- | -- | ------------- |
| user_id  | ğŸ”‘ | profile_id    |
| username |    | address       |
| email    |    | phone         |

Each **user** has **exactly one** **profile**, and each **profile** belongs to **one** **user**.

---

### ğŸ§± SQL Example

```sql
CREATE TABLE users (
  user_id INT PRIMARY KEY,
  username VARCHAR(50),
  email VARCHAR(100)
);

CREATE TABLE user_profiles (
  profile_id INT PRIMARY KEY,
  user_id INT UNIQUE,
  address VARCHAR(100),
  phone VARCHAR(20),
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);
```

**Explanation:**

* `user_id` in `user_profiles` references the same ID in `users`.
* The `UNIQUE` constraint ensures **only one profile per user**.

---

### ğŸ§© Use Cases

| Example                | Description                              |
| ---------------------- | ---------------------------------------- |
| User â†” Profile         | Split user login info from personal data |
| Employee â†” Company Car | One employee has one company car         |
| Person â†” Passport      | Each person has exactly one passport     |

---

### ğŸ’¡ Why Use It?

* To **split large tables** into smaller logical parts
* To **isolate sensitive information** (e.g., store user credentials separately)

---

## ğŸ§© 2. One-to-Many (1:N) Relationship

### ğŸ”¹ Definition:

A **one-to-many relationship** means that **one record in Table A** can be related to **many records in Table B**,
but each record in Table B relates to **only one** record in Table A.

âœ… This is the **most common** relationship in databases.

---

### ğŸ§  Example: `customers` and `orders`

| customers   |    | orders           |
| ----------- | -- | ---------------- |
| customer_id | ğŸ”‘ | order_id         |
| name        |    | customer_id (FK) |
| email       |    | order_date       |

A **customer** can have **many orders**,
but each **order** belongs to **only one customer**.

---

### ğŸ§± SQL Example

```sql
CREATE TABLE customers (
  customer_id INT PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100)
);

CREATE TABLE orders (
  order_id INT PRIMARY KEY,
  customer_id INT,
  order_date DATE,
  FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
```

---

### ğŸ§© Use Cases

| Example                | Description                        |
| ---------------------- | ---------------------------------- |
| Customer â†’ Orders      | One customer can place many orders |
| Teacher â†’ Students     | One teacher teaches many students  |
| Author â†’ Books         | One author writes many books       |
| Department â†’ Employees | One department has many employees  |

---

### ğŸ’¡ Why Use It?

* To model **parent-child** relationships
* To **group related data** under one main entity
* Enables efficient **data organization and querying**

---

## ğŸ§© 3. Many-to-Many (M:N) Relationship

### ğŸ”¹ Definition:

A **many-to-many relationship** means that **records in Table A can relate to multiple records in Table B**,
and vice versa.

ğŸš« Most RDBMSs **donâ€™t support direct many-to-many relationships** â€”
so we use a **junction (bridge) table** to link them.

---

### ğŸ§  Example: `students` and `courses`

| students   |    | student_courses |   | courses      |
| ---------- | -- | --------------- | - | ------------ |
| student_id | ğŸ”‘ | student_id (FK) |   | course_id ğŸ”‘ |
| name       |    | course_id (FK)  |   | course_name  |

A **student** can enroll in **many courses**,
and each **course** can have **many students**.

---

### ğŸ§± SQL Example

```sql
CREATE TABLE students (
  student_id INT PRIMARY KEY,
  name VARCHAR(100)
);

CREATE TABLE courses (
  course_id INT PRIMARY KEY,
  course_name VARCHAR(100)
);

CREATE TABLE student_courses (
  student_id INT,
  course_id INT,
  PRIMARY KEY (student_id, course_id),
  FOREIGN KEY (student_id) REFERENCES students(student_id),
  FOREIGN KEY (course_id) REFERENCES courses(course_id)
);
```

**Explanation:**

* `student_courses` is the **junction table** (also called a **linking** or **associative table**).
* Each record connects one student to one course.
* The **composite primary key** (`student_id`, `course_id`) prevents duplicates.

---

### ğŸ§© Use Cases

| Example               | Description                                   |
| --------------------- | --------------------------------------------- |
| Students â†” Courses    | Many students can take many courses           |
| Authors â†” Books       | Many authors can co-write many books          |
| Products â†” Categories | A product can belong to multiple categories   |
| Users â†” Roles         | A user can have multiple roles and vice versa |

---

### ğŸ’¡ Why Use It?

* To represent **complex relationships**
* To **normalize** data and avoid duplication
* Enables **flexible querying** for cross-linked data

---

## ğŸ§  Summary Table

| Relationship Type      | Description                       | Common Structure                     | Example           |
| ---------------------- | --------------------------------- | ------------------------------------ | ----------------- |
| **One-to-One (1:1)**   | One record in A â†” one record in B | Foreign key with `UNIQUE` constraint | User â†” Profile    |
| **One-to-Many (1:N)**  | One record in A â†” many in B       | Foreign key in â€œmanyâ€ table          | Customer â†” Orders |
| **Many-to-Many (M:N)** | Many in A â†” many in B             | Junction table with two FKs          | Student â†” Courses |

---

### ğŸ¨ Visual Overview (Mermaid ER Diagram)

```mermaid
erDiagram
    USERS ||--|| USER_PROFILES : "1 to 1"
    CUSTOMERS ||--|{ ORDERS : "1 to many"
    STUDENTS ||--|{ STUDENT_COURSES : "1 to many"
    COURSES ||--|{ STUDENT_COURSES : "1 to many"
```

---
